<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Attendance Table</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h2>Attendance Table</h2>
    <table border="1" cellpadding="10" id="attendanceTable"></table>
  </div>

  <script>
    let data = JSON.parse(localStorage.getItem("attendance") || "{}");
    let allDates = new Set();

    Object.values(data).forEach(record => {
      Object.keys(record).forEach(date => allDates.add(date));
    });

    allDates = Array.from(allDates);
    let table = `<tr><th>Reg No</th>${allDates.map(d => `<th>${d}</th>`).join("")}</tr>`;

    for (let reg in data) {
      table += `<tr><td>${reg}</td>`;
      for (let d of allDates) {
        table += `<td>${data[reg][d] || "‚ùå"}</td>`;
      }
      table += "</tr>";
    }

    document.getElementById("attendanceTable").innerHTML = table;
  </script>
</body>
</html>